(this["webpackJsonpbuechi.name"]=this["webpackJsonpbuechi.name"]||[]).push([[38],{7676:function(e,t,r){"use strict";r.r(t);var a=r(27),i=r(28),n=r(1),o=r.n(n),s=r(105),h=r.n(s);t.default=function(e){var t,r,n,s=window.localStorage.getItem("customWidth")?window.localStorage.getItem("customWidth"):window.innerWidth,u=window.localStorage.getItem("customHeight")?window.localStorage.getItem("customHeight"):window.innerHeight,c=window.localStorage.getItem("signature"),l=[],p=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"generateMap",value:function(t,r,a,i,n,o,s){return this.noiseMap=v.generateNoiseMap(t,r,a,i,n,o,s),e.convertNoiseToTerrainMap(this.noiseMap)}}],[{key:"convertNoiseToTerrainMap",value:function(e){for(var t,r=[],a=e.length,i=e[0].length,n=0;n<a;n++)for(var o=0;o<i;o++){t=e[n][o];for(var s=0;s<l.length;s++)if(t<=l[s].height){r.push(l[s].clr);break}}return r}},{key:"convertNoiseToHeightMap",value:function(e,t){for(var r,a,i=[],n=t.length,o=t[0].length,s=0;s<n;s++)for(var h=0;h<o;h++)r=t[s][h],a=e.floor(10*r)/10,i.push(e.color(e.map(a,0,.9,0,255)));return i}},{key:"convertNoiseToGreyscaleMap",value:function(e,t){for(var r,a=[],i=t.length,n=t[0].length,o=0;o<i;o++)for(var s=0;s<n;s++)r=e.color(e.round(e.map(t[o][s],0,1,0,255))),a.push(r);return a}}]),e}(),v=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"generateNoiseMap",value:function(e,t,a,i,n,o,s){var h,u,c,l,p,v=[];i<=0&&(i=1e-4);for(var f=-1/0,d=1/0,w=t/2,g=a/2,m=0;m<a;m++){v[m]=[];for(var x=0;x<t;x++){h=1,u=1,c=0;for(var y=0;y<n;y++)l=(x-w)*i*u+r[y].x,p=(m-g)*i*u+r[y].y,c+=(2*e.noise(l,p)-1)*h,h*=o,u*=s;c<d&&(d=c),c>f&&(f=c),v[m].push(c)}}for(var b=0;b<a;b++)for(var k=0;k<t;k++)v[b][k]=e.map(v[b][k],d,f,0,1);return v}}]),e}(),f=function(){function e(t,r,i,n,o){Object(a.a)(this,e),this.x=r,this.y=i,this.width=n,this.height=o,this.texture=t.createImage(this.width,this.height)}return Object(i.a)(e,[{key:"init",value:function(e){this.noiseScale=.01,this.octaves=4,this.persistance=.5,this.lacunarity=2,this.data=n.generateMap(e,this.width,this.height,this.noiseScale,this.octaves,this.persistance,this.lacunarity)}},{key:"createTexture",value:function(e){var t;this.texture.loadPixels();for(var r=0,a=0;a<this.height;a++)for(var i=0;i<this.width;i++)t=4*(a*this.width+i),this.texture.pixels[t+0]=e.red(this.data[r]),this.texture.pixels[t+1]=e.green(this.data[r]),this.texture.pixels[t+2]=e.blue(this.data[r]),this.texture.pixels[t+3]=255,r++;this.texture.updatePixels()}}]),e}(),d=function e(t,r,i){Object(a.a)(this,e),this.name=t,this.height=r,this.clr=i};return o.a.createElement(h.a,{setup:function(e,a){e.createCanvas(s,u).parent(a),e.noiseSeed(null!==c?c:e.floor(e.random(1,1e4))),e.randomSeed(null!==c?c:e.floor(e.random(1,1e4))),e.pixelDensity(1),r=function(e){for(var t,r,a=[],i=0;i<10;i++)t=e.random(-1e5,1e5),r=e.random(-1e5,1e5),a.push(e.createVector(t,r));return a}(e),l=function(e){var t=new d("deep water",.1,e.color(97,176,221));l.push(t);var r=new d("medium water",.3,e.color(162,203,229));l.push(r);var a=new d("shallow water",.5,e.color(214,231,249));l.push(a);var i=new d("beach",.55,e.color(241,243,242));l.push(i);var n=new d("grass",.67,e.color(189,220,178));l.push(n);var o=new d("forest",.75,e.color(160,188,145));l.push(o);var s=new d("dirt",.82,e.color(181,170,162));l.push(s);var h=new d("rock",.95,e.color(137,129,123));l.push(h);var u=new d("snow",1,e.color(255));return l.push(u),l}(e),n=new p,(t=new f(e,0,0,e.width,e.height)).init(e),t.createTexture(e)},draw:function(e){e.background(0),e.image(t.texture,t.x,t.y)},keyPressed:function(e){if(83===e.keyCode||32===e.keyCode){var t="SimonBuechi"+window.location.hash;t.replace(/[^a-zA-Z0-9]/g,""),e.saveCanvas(t,"jpg")}}})}}}]);
//# sourceMappingURL=38.6ab00023.chunk.js.map