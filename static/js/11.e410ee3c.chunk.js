(this.webpackJsonppwa=this.webpackJsonppwa||[]).push([[11],{1927:function(e,a,n){},1928:function(e,a,n){},1929:function(e,a,n){},1930:function(e,a,n){},1931:function(e,a,n){},1932:function(e,a,n){},1933:function(e,a,n){},1941:function(e,a,n){"use strict";n.r(a);var t=n(31),r=n(32),l=n(34),c=n(33),o=n(4),u=n.n(o),i=n(577),s=Object(o.createContext)(!1),d=n(779);var m={IDLE:"IDLE",YOUR_TOURN:"YOUR_TURN",OPPONENTS_TURN:"OPPONENTS_TURN",WIN:"WIN",DEFEAT:"DEFEAT",DRAW:"DRAW"},v="CHECK",b="RESET",f="RESET_SCORE",E="CHANGE_DIFFICULTY",p={EASY:"EASY",MEDIUM:"MEDIUM",HARD:"HARD"},w={score:{you:0,opponent:0},round:0,board:{a1:null,b1:null,c1:null,a2:null,b2:null,c2:null,a3:null,b3:null,c3:null},winnerCells:[],state:m.IDLE,difficulty:localStorage.getItem("difficulty")||p.HARD},O=function(e,a){switch(a.type){case v:if(!a.payload)throw new Error("payload is required");if(-1===Object.keys(w.board).indexOf(a.payload.target))throw new Error("payload.target has unexpected value");if(-1===["x","o"].indexOf(a.payload.value))throw new Error("payload.value is invalid. It expects `x` or `o`");if(null!==e.board[a.payload.target])throw new Error("target is not empty");var n=Object(d.a)({},e);n.board[a.payload.target]=a.payload.value,n.round+=1,"o"===a.payload.value&&(n.state=m.OPPONENTS_TURN),"x"===a.payload.value&&(n.state=m.YOUR_TOURN);var t=function(e){var a=e.a1,n=e.b1,t=e.c1,r=e.a2,l=e.b2,c=e.c2,o=e.a3,u=e.b3,i=e.c3;function s(e,a,n){return null!==e&&null!==a&&null!==n&&(e===a&&e===n)}return s(a,n,t)?{winner:a,cells:["a1","b1","c1"]}:s(r,l,c)?{winner:r,cells:["a2","b2","c2"]}:s(o,u,i)?{winner:o,cells:["a3","b3","c3"]}:s(a,r,o)?{winner:a,cells:["a1","a2","a3"]}:s(n,l,u)?{winner:n,cells:["b1","b2","b3"]}:s(t,c,i)?{winner:t,cells:["c1","c2","c3"]}:s(a,l,i)?{winner:a,cells:["a1","b2","c3"]}:s(o,l,t)?{winner:o,cells:["a3","b2","c1"]}:null}(n.board),r=t&&"o"===t.winner,l=t&&"x"===t.winner,c=!t&&9===n.round;return(r||l)&&(n.winnerCells=t.cells),r&&(n.score.you+=1,n.state=m.WIN),l&&(n.score.opponent+=1,n.state=m.DEFEAT),c&&(n.state=m.DRAW),n;case b:var o=Object(d.a)({},e);return o.round=0,o.board={a1:null,b1:null,c1:null,a2:null,b2:null,c2:null,a3:null,b3:null,c3:null},o.state=m.IDLE,o.winnerCells=[],o;case f:var u=Object(d.a)({},e);return u.score=w.score,u;case E:if(-1===Object.keys(p).map((function(e){return p[e]})).indexOf(a.payload))throw new Error("Invalid payload");localStorage.setItem("difficulty",a.payload);var i=Object(d.a)({},e);return i.difficulty=a.payload,i;default:return e}},_=Object(o.createContext)(),y={dropdown:u.a.createElement("path",{d:"M128 192l128 128 128-128z"}),menu:u.a.createElement("path",{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"}),x:u.a.createElement("path",{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}),o:u.a.createElement("path",{d:"M256 48C141.601 48 48 141.601 48 256s93.601 208 208 208 208-93.601 208-208S370.399 48 256 48zm0 374.399c-91.518 0-166.399-74.882-166.399-166.399S164.482 89.6 256 89.6 422.4 164.482 422.4 256 347.518 422.399 256 422.399z"})};function h(e){var a=e.type,n=e.color,t=e.size,r=e["aria-hidden"];return u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{fill:n,width:t,height:t},"aria-hidden":r},y[a])}h.defaultProps={color:"var(--text-color)",size:16,"aria-hidden":!1};var g=h;n(1927);var N=function(){var e=Object(o.useContext)(_),a=Object(i.a)(e,1)[0],n=Object(o.useState)(a.score.you),t=Object(i.a)(n,2),r=t[0],l=t[1],c=Object(o.useState)(a.score.opponent),s=Object(i.a)(c,2),d=s[0],m=s[1];return Object(o.useEffect)((function(){var e=a.score,n=e.you,t=e.opponent;if(n!==r||t!==d){var c=document.getElementById("".concat(n!==r?"o":"x","-score"));c.classList.add("score__number--hide"),o(c).then((function(){return c.classList.remove("score__number--hide"),c.classList.add("score__number--will-update"),r!==n?l(n):m(t),o(c)})).then((function(){c.classList.remove("score__number--will-update")}))}function o(e){return new Promise((function(a){e.addEventListener("transitionend",a,{once:!0})}))}}),[a,r,l,d,m]),u.a.createElement("div",{className:"score"},u.a.createElement("div",null),u.a.createElement("div",{className:"score__cell"},u.a.createElement("div",{className:"score__img"},u.a.createElement(g,{type:"o",color:"var(--primary-color)",size:40})),u.a.createElement("div",{className:"score__number-holder"},u.a.createElement("div",{className:"score__number",id:"o-score"},r))),u.a.createElement("div",null),u.a.createElement("div",{className:"score__cell"},u.a.createElement("div",{className:"score__img"},u.a.createElement(g,{type:"x",color:"var(--secondary-color)",size:40})),u.a.createElement("div",{className:"score__number-holder"},u.a.createElement("div",{className:"score__number",id:"x-score"},d))),u.a.createElement("div",null))};var C=function(e,a){var n=100*Math.random(),t=!1;if(a===p.HARD&&(t=!0),a===p.MEDIUM&&(t=n>=25),a===p.EASY&&(t=n>=50),t){var r=function(e){function a(a,n,t){var r=e[a],l=e[n],c=e[t],o=0,u=0;return"x"===r&&o++,"x"===l&&o++,"x"===c&&o++,null===r&&u++,null===l&&u++,null===c&&u++,2===o&&1===u&&[{name:a,value:r},{name:n,value:l},{name:t,value:c}].find((function(e){return null===e.value})).name}var n=[a("a1","b1","c1"),a("a2","b2","c2"),a("a3","b3","c3"),a("a1","a2","a3"),a("b1","b2","b3"),a("c1","c2","c3"),a("a1","b2","c3"),a("a3","b2","c1")].filter((function(e){return!1!==e}));return n.length>0&&n[Math.floor(Math.random()*n.length)]}(e);if(r)return r;var l=function(e){function a(a,n,t){var r=e[a],l=e[n],c=e[t],o=0,u=0;return"o"===r&&o++,"o"===l&&o++,"o"===c&&o++,null===r&&u++,null===l&&u++,null===c&&u++,2===o&&1===u&&[{name:a,value:r},{name:n,value:l},{name:t,value:c}].find((function(e){return null===e.value})).name}var n=[a("a1","b1","c1"),a("a2","b2","c2"),a("a3","b3","c3"),a("a1","a2","a3"),a("b1","b2","b3"),a("c1","c2","c3"),a("a1","b2","c3"),a("a3","b2","c1")].filter((function(e){return!1!==e}));return n.length>0&&n[Math.floor(Math.random()*n.length)]}(e);if(l)return l;var c=function(e){function a(a,n,t){var r=e[a],l=e[n],c=e[t],o=0,u=0;return"x"===r&&o++,"x"===l&&o++,"x"===c&&o++,null===r&&u++,null===l&&u++,null===c&&u++,1===o&&2===u&&[{name:a,value:r},{name:n,value:l},{name:t,value:c}].find((function(e){return null===e.value})).name}var n=[a("a1","b1","c1"),a("a2","b2","c2"),a("a3","b3","c3"),a("a1","a2","a3"),a("b1","b2","b3"),a("c1","c2","c3"),a("a1","b2","c3"),a("a3","b2","c1")].filter((function(e){return!1!==e}));return n.length>0&&n[Math.floor(Math.random()*n.length)]}(e);if(c)return c;var o=function(e){return null===e.b2&&"b2"}(e);if(o)return o}return function(e){var a=Object.keys(e).map((function(a){return{key:a,value:e[a]}})).filter((function(e){return null===e.value})).map((function(e){return e.key}));return a[Math.floor(a.length*Math.random())]}(e)};n(1928);function x(e){var a=e.name,n=e.value,t=e.onClick,r=e.disabled,l=e.opaque;return u.a.createElement("button",{type:"button","aria-label":Boolean(n)?"".concat(a,": ").concat(n):"Empty",disabled:r||Boolean(n),className:"cell ".concat(l?"cell--opaque":""),onClick:t},n?u.a.createElement("div",{className:"animated bounceIn"},u.a.createElement(g,{type:n,"aria-hidden":!0,size:50,color:"o"===n?"var(--primary-color)":"var(--secondary-color)"})):null)}x.defaultProps={disabled:!1,value:null,opaque:!1};var j=x;n(1929);var k=function(){var e=Object(o.useContext)(_),a=Object(i.a)(e,2),n=a[0],t=a[1];function r(e){t({type:v,payload:{target:e,value:"o"}})}Object(o.useEffect)((function(){n.state===m.OPPONENTS_TURN&&setTimeout((function(){var e=n.board,a=n.difficulty;t({type:v,payload:{target:C(e,a),value:"x"}})}),1e3)}),[n,t]);var l=-1===[m.IDLE,m.YOUR_TOURN].indexOf(n.state),c=-1!==[m.WIN,m.DEFEAT].indexOf(n.state);return u.a.createElement("div",{className:"game-grid"},u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"A1",onClick:function(){return r("a1")},value:n.board.a1,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("a1")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"B1",onClick:function(){return r("b1")},value:n.board.b1,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("b1")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"C1",onClick:function(){return r("c1")},value:n.board.c1,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("c1")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"A2",onClick:function(){return r("a2")},value:n.board.a2,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("a2")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"B2",onClick:function(){return r("b2")},value:n.board.b2,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("b2")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"C2",onClick:function(){return r("c2")},value:n.board.c2,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("c2")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"A3",onClick:function(){return r("a3")},value:n.board.a3,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("a3")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"B3",onClick:function(){return r("b3")},value:n.board.b3,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("b3")})),u.a.createElement("div",{className:"game-grid__cell"},u.a.createElement(j,{name:"C3",onClick:function(){return r("c3")},value:n.board.c3,disabled:l,opaque:c&&-1===n.winnerCells.indexOf("c3")})))};n(1930);var I=function(){var e=Object(o.useContext)(_),a=Object(i.a)(e,2),n=a[0],t=a[1];function r(){t({type:b})}function l(){switch(n.state){case m.WIN:return u.a.createElement("button",{onClick:r,className:"status__reset-btn"},"Play again!");case m.DEFEAT:case m.DRAW:return u.a.createElement("button",{onClick:r,className:"status__reset-btn status__reset-btn--red"},"Play again!");default:return null}}return u.a.createElement("div",{className:"status"},u.a.createElement("div",null,u.a.createElement("div",null,function(){switch(n.state){case m.IDLE:return"Whenever you're ready!";case m.YOUR_TOURN:return"Your turn!";case m.WIN:return"Victory!";case m.DEFEAT:return"You were defeated!";case m.DRAW:return"It's a draw!";default:return""}}()),u.a.createElement("div",null,u.a.createElement(l,null))))};n(1931);var R=function(){return u.a.createElement("div",{className:"game animated zoomIn fast"},u.a.createElement(N,null),u.a.createElement(k,null),u.a.createElement(I,null))};n(1932);var D=function(){var e=Object(o.useState)(Boolean(localStorage.getItem("darktheme"))),a=Object(i.a)(e,2),n=a[0],t=a[1],r=Object(o.useState)(!1),l=Object(i.a)(r,2),c=l[0],d=l[1],m=Object(o.useReducer)(O,w),v=Object(i.a)(m,2),b=v[0],f=v[1];return Object(o.useEffect)((function(){function e(){!0!==c&&d(!0)}function a(e){"Tab"===e.key&&!1!==c&&d(!1)}return window.addEventListener("mousemove",e),window.addEventListener("touchstart",e),window.addEventListener("keydown",a),function(){window.removeEventListener("mousemove",e),window.removeEventListener("touchstart",e),window.removeEventListener("keydown",a)}}),[c]),Object(o.useEffect)((function(){document.body.style.backgroundColor=n?"#000":"#FFF",n?localStorage.setItem("darktheme","1"):localStorage.removeItem("darktheme")}),[n]),u.a.createElement(s.Provider,{value:[n,t]},u.a.createElement(_.Provider,{value:[b,f]},u.a.createElement("div",{className:"app "+(n?"app--dark-theme ":"")+(c?"app--no-outlines ":"")},u.a.createElement("div",{className:"app__content"},u.a.createElement(R,null)))))},T=(n(1933),function(e){Object(l.a)(n,e);var a=Object(c.a)(n);function n(){return Object(t.a)(this,n),a.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return u.a.createElement(D,null)}}]),n}(o.Component));a.default=T}}]);