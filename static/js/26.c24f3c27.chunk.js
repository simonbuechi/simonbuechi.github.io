(this.webpackJsonppwa=this.webpackJsonppwa||[]).push([[26],{2050:function(e,a,t){"use strict";t.r(a);var n=t(524),r=t.n(n),c=t(567),l=t(31),i=t(32),s=t(34),o=t(33),m=t(4),u=t.n(m),d=t(559),b=t(548),p=t(543),E=t(35),v=t(622),y=t(2002),f=t(2016),h=t(2041),S=t(2006),g=t(2054),k=t(2044),w=t(1913),B=t(642),C=t(1912),I=t(1947),O=t(1943),j=t(2035),N=t(1997),x=t(1999),T=t(2001),D=t(1998),A=t(2057),J=t(2e3),q=t(1914),z=t.n(q),G=t(1915),K=t.n(G),L=t(716),W=t(574),F=t(640),H=[{code:"teams",name:"Demo",active:!0,rpc:"https://sandbox.truffleteams.com/01b581c6-0ffe-46ce-9dc7-d4d76823077b",api:""},{code:"spark",name:"Sparknet",active:!1,rpc:"",api:""},{code:"main",name:"Mainnet",active:!1,rpc:"",api:""},{code:"goerli",name:"Goerli Testnet",active:!1,rpc:"",api:""}],M=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=a.call.apply(a,[this].concat(i))).state={identifier:"",address:null,loading:!1,activeStep:0,chain:H[0].code,activeSnackbar:null},e.create=Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props.enqueueSnackbar(e.props.t("assemblynew.Creating"),{variant:"warning",persist:!0,action:u.a.createElement(F.a,null)}),e.setState({activeSnackbar:t}),e.setState({loading:!0}),a.prev=3,a.next=6,d.a.deployAssembly(e.state.chain,e.state.identifier);case 6:n=a.sent,Object(L.b)(n,e.state.chain,"assembly",new Date,e.state.identifier),e.setState({address:n}),e.props.closeSnackbar(e.state.activeSnackbar),e.props.enqueueSnackbar("Successfully created assembly.",{variant:"success",action:function(a){return u.a.createElement(W.a,{snackKey:a,closeSnackbar:e.props.closeSnackbar})}}),a.next=19;break;case 13:a.prev=13,a.t0=a.catch(3),e.setState({loading:!1}),console.error(a.t0),e.props.closeSnackbar(e.state.activeSnackbar),e.props.enqueueSnackbar(e.props.t("assemblynew.CreatingFailed"),{variant:"error",action:function(a){return u.a.createElement(W.a,{snackKey:a,closeSnackbar:e.props.closeSnackbar})}});case 19:e.setState({loading:!1});case 20:case"end":return a.stop()}}),a,null,[[3,13]])}))),e.setIdentifier=function(a){return e.setState({identifier:a.target.value})},e.goToStep=function(a){e.setState({activeStep:a})},e.handleChange=function(a){e.setState({chain:a.target.value})},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.state.address&&2!==this.state.activeStep&&this.setState({activeStep:2})}},{key:"render",value:function(){var e=this,a=this.props.t,t=this.state,n=t.activeStep,r=t.chain,c=t.address,l=t.loading,i=t.identifier;return u.a.createElement(f.a,{item:!0,xs:12,md:9,lg:6,className:"defaultpadding"},u.a.createElement(y.a,{variant:"h1",gutterBottom:!0},a("assemblynew.title")),u.a.createElement(N.a,null,u.a.createElement(I.a,{activeStep:n,orientation:"vertical"},u.a.createElement(C.a,{key:"1"},u.a.createElement(O.a,null,a("assemblynew.BlockchainChoose")),u.a.createElement(j.a,null,u.a.createElement(h.a,{my:3},u.a.createElement(y.a,{variant:"h2",gutterBottom:!0},a("assemblynew.select")),u.a.createElement(g.a,{"aria-label":"blockchain",name:"blockchain",value:r,onChange:this.handleChange},H.map((function(e,t){return u.a.createElement(w.a,{key:e.code,value:e.code,disabled:!e.active,control:u.a.createElement(k.a,{color:"primary"}),label:u.a.createElement(h.a,{my:1},u.a.createElement(y.a,{variant:"body2"},a("assemblynew.chainTitle"+e.code)),u.a.createElement(y.a,{variant:"caption"},a("assemblynew.chainDesc"+e.code)))})}))),u.a.createElement(h.a,{mt:3},u.a.createElement(S.a,{disabled:l,variant:"outlined",color:"primary",onClick:function(){return e.goToStep(1)},startIcon:u.a.createElement(z.a,null)},"Next"))))),u.a.createElement(C.a,{key:"2"},u.a.createElement(O.a,null,a("assemblynew.EnterName")),u.a.createElement(j.a,null,u.a.createElement(h.a,{my:3},u.a.createElement(h.a,{mb:3},u.a.createElement(S.a,{variant:"outlined",disabled:l,color:"primary",onClick:function(){return e.goToStep(0)},startIcon:u.a.createElement(K.a,null)},a("assemblynew.GoBack"))),u.a.createElement(y.a,{variant:"h2",gutterBottom:!0},a("assemblynew.Name")),u.a.createElement(B.a,{onChange:this.setIdentifier,value:i,label:a("assemblynew.fieldIdentifierLabel"),helperText:a("assemblynew.fieldIdentifierHelp"),placeholder:a("assemblynew.fieldIdentifierPlaceholder"),variant:"outlined",disabled:l,margin:"normal",fullWidth:!0}),u.a.createElement(h.a,{mt:3},u.a.createElement(S.a,{variant:"outlined",disabled:l,color:"primary",onClick:function(){return e.goToStep(2)},startIcon:u.a.createElement(z.a,null)},a("base.Next")))))),u.a.createElement(C.a,{key:"3"},u.a.createElement(O.a,null,a("assemblynew.Launch")),u.a.createElement(j.a,null,l&&u.a.createElement(h.a,{my:3},u.a.createElement(y.a,{variant:"h2",gutterBottom:!0},a("assemblynew.Wait")),u.a.createElement(y.a,{variant:"body2",gutterBottom:!0},a("assemblynew.waitDescription"))),!l&&!c&&u.a.createElement(h.a,{my:3},u.a.createElement(h.a,{mb:3},u.a.createElement(S.a,{variant:"outlined",disabled:l,color:"primary",onClick:function(){return e.goToStep(1)},startIcon:u.a.createElement(K.a,null)},a("base.Back"))),u.a.createElement(h.a,{mb:3},u.a.createElement(y.a,{variant:"h2",gutterBottom:!0},a("base.Launch")),u.a.createElement(y.a,{variant:"body2",gutterBottom:!0},a("assemblynew.Summary")),u.a.createElement(D.a,{dense:!0},u.a.createElement(x.a,null,u.a.createElement(J.a,null,u.a.createElement(A.a,null,"1")),u.a.createElement(T.a,{secondary:"Blockchain",primary:r})),u.a.createElement(x.a,null,u.a.createElement(J.a,null,u.a.createElement(A.a,null,"2")),u.a.createElement(T.a,{secondary:"Assembly Name",primary:i||"(no name)"}))),u.a.createElement(y.a,{variant:"body2",gutterBottom:!0},a("assemblynew.Summary"))),u.a.createElement(S.a,{color:"primary",variant:"contained",disabled:l,onClick:this.create},a("base.Create"))),!l&&c&&u.a.createElement(h.a,{my:3},u.a.createElement(y.a,{variant:"h2",gutterBottom:!0},a("base.congratulations")),u.a.createElement(y.a,{variant:"body2",gutterBottom:!0},a("assemblynew.Success")," ",c,"."),u.a.createElement(y.a,{variant:"body1",gutterBottom:!0},u.a.createElement(S.a,{color:"primary",variant:"contained",disabled:!c,component:b.b,to:"/"+r+"/assembly/"+c+"/admin"},a("assemblynew.GoAdminpanel")))))))))}}]),t}(u.a.Component);a.default=Object(p.f)(Object(E.b)()(Object(v.b)(M)))},574:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(577),r=t(4),c=t.n(r),l=t(2017),i=t(1991),s=t(575),o=t.n(s);function m(e){var a=c.a.useState(100),t=Object(n.a)(a,2),r=t[0],s=t[1];return c.a.useEffect((function(){s(100);var e=setInterval((function(){s((function(e){return e<=0?0:e-2}))}),100);return function(){clearInterval(e)}}),[]),c.a.createElement("div",{className:"toastSpinnerWrapper"},c.a.createElement(i.a,{size:"small",color:"secondary",onClick:function(){e.closeSnackbar(e.snackKey)}},c.a.createElement(o.a,null)),c.a.createElement(l.a,{variant:"determinate",value:r,color:"secondary",size:36,thickness:2,className:"toastSpinner"}))}},640:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(4),r=t.n(n),c=t(2017);function l(){return r.a.createElement(c.a,{variant:"indeterminate",color:"secondary",size:30,thickness:2})}},716:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return r}));var n=function(){return"https://sandbox.truffleteams.com/01b581c6-0ffe-46ce-9dc7-d4d76823077b".split(".")[0].replace("https://","")},r=function(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=window.localStorage.getItem("assemblies")?JSON.parse(window.localStorage.getItem("assemblies")):[],l=!1;c.forEach((function(a){a.address===e&&(l=!0)})),l||(c.push({address:e,chain:a,type:t,datetime:n,identifier:r}),window.localStorage.setItem("assemblies",JSON.stringify(c)))}}}]);