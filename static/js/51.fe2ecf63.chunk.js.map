{"version":3,"sources":["artworks/A018.js"],"names":["Artwork","props","MyObject","CANVAS_WIDTH","window","localStorage","getItem","innerWidth","CANVAS_HEIGHT","innerHeight","SEED","_aryInitRot","drawPart","p5","startX","startY","startZ","endX","endY","endZ","w","col","angAxisZ","atan2","distXY","dist","angAxisY","distXYZ","push","translate","rotateZ","rotateY","ambientMaterial","box","pop","Part","totalTime","partCount","maxW","this","currentTime","direction","erase","color","currentX","currentY","currentZ","ratio","Parts","numPart","maxArea","width","t","maxL","parts","max","random","aryEndXYZ","randomDirection","abs","int","isGenerate","i","length","update","shift","setup","canvasParentRef","canvasSize","createCanvas","WEBGL","parent","noiseSeed","floor","randomSeed","frameRate","noStroke","PI","draw","ortho","background","ambientLight","ang","frameCount","directionalLight","sin","cos","c","height","tan","camera","keyPressed","keyCode","fileName","location","hash","replace","saveCanvas"],"mappings":"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","file":"static/js/51.fe2ecf63.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Sketch from \"react-p5\";\r\n\r\n//openprocessing.org/sketch/492405\r\n\r\nconst Artwork = (props) => {\r\n  //global constants\r\n  const CANVAS_WIDTH = window.localStorage.getItem(\"customWidth\") ? window.localStorage.getItem(\"customWidth\") : window.innerWidth;\r\n  const CANVAS_HEIGHT = window.localStorage.getItem(\"customHeight\") ? window.localStorage.getItem(\"customHeight\") : window.innerHeight;\r\n  const SEED = window.localStorage.getItem(\"signature\");\r\n\r\n  let MyObject;\r\n  let _aryInitRot = [];\r\n\r\n  function drawPart(p5, startX, startY, startZ, endX, endY, endZ, w, col) {\r\n    let angAxisZ = p5.atan2(endY - startY, endX - startX);\r\n    let distXY = p5.dist(startX, startY, endX, endY);\r\n    let angAxisY = -p5.atan2(endZ - startZ, distXY);\r\n    let distXYZ = p5.dist(0, startZ, distXY, endZ);\r\n    p5.push();\r\n    p5.translate(startX, startY, startZ);\r\n    p5.rotateZ(angAxisZ);\r\n    p5.rotateY(angAxisY);\r\n    p5.translate(distXYZ / 2, 0, 0);\r\n    p5.ambientMaterial(col);\r\n    p5.box(distXYZ + w, w, w); //length + w\r\n    p5.pop();\r\n  }\r\n\r\n  class Part {\r\n    constructor(p5, startX, startY, startZ, endX, endY, endZ, w, totalTime, partCount, maxW) {\r\n      this.startX = startX;\r\n      this.startY = startY;\r\n      this.startZ = startZ;\r\n      this.endX = endX;\r\n      this.endY = endY;\r\n      this.endZ = endZ;\r\n      this.w = w;\r\n      this.totalTime = totalTime;\r\n      this.currentTime = 0;\r\n      this.direction = true; //true -> extend, false -> shrink\r\n      this.erase = false;\r\n      this.col = p5.color((255 * w) / maxW);\r\n    }\r\n    update(p5) {\r\n      let currentX;\r\n      let currentY;\r\n      let currentZ;\r\n      if (this.direction === true) {\r\n        //extend\r\n        let ratio = (this.currentTime / this.totalTime) ** 0.5;\r\n        currentX = this.startX + (this.endX - this.startX) * ratio;\r\n        currentY = this.startY + (this.endY - this.startY) * ratio;\r\n        currentZ = this.startZ + (this.endZ - this.startZ) * ratio;\r\n        if (this.currentTime < this.totalTime) {\r\n          this.currentTime++;\r\n        }\r\n        drawPart(p5, this.startX, this.startY, this.startZ, currentX, currentY, currentZ, this.w, this.col);\r\n      } else {\r\n        //shrink\r\n        let ratio = (1 - (this.currentTime - this.totalTime) / this.totalTime) ** 0.5;\r\n        currentX = this.endX + (this.startX - this.endX) * ratio;\r\n        currentY = this.endY + (this.startY - this.endY) * ratio;\r\n        currentZ = this.endZ + (this.startZ - this.endZ) * ratio;\r\n        this.currentTime++;\r\n        if (this.currentTime > this.totalTime * 2) {\r\n          this.erase = true;\r\n        }\r\n        drawPart(p5, this.endX, this.endY, this.endZ, currentX, currentY, currentZ, this.w, this.col);\r\n      }\r\n    }\r\n  }\r\n\r\n  class Parts {\r\n    constructor(p5, numPart) {\r\n      this.maxArea = p5.width / 3.4;\r\n      this.maxW = p5.width / 10;\r\n      this.t = 3;\r\n      this.maxL = this.maxArea;\r\n      this.parts = [];\r\n      let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\r\n      let startX = -this.maxArea / 2;\r\n      let startY = -this.maxArea / 2;\r\n      let startZ = -this.maxArea / 2;\r\n      let aryEndXYZ = this.randomDirection(p5, startX, startY, startZ);\r\n      while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\r\n        aryEndXYZ = this.randomDirection(p5, startX, startY, startZ);\r\n      }\r\n      let endX = aryEndXYZ[0];\r\n      let endY = aryEndXYZ[1];\r\n      let endZ = aryEndXYZ[2];\r\n      this.partCount = p5.int(p5.random(1000));\r\n      this.parts.push(new Part(p5, startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW));\r\n      this.numPart = numPart;\r\n      this.isGenerate = false;\r\n    }\r\n    update(p5) {\r\n      for (let i = 0; i < this.parts.length; i++) {\r\n        this.parts[i].update(p5);\r\n      }\r\n      if (this.parts[this.parts.length - 1].currentTime >= this.parts[this.parts.length - 1].totalTime) {\r\n        this.isGenerate = true;\r\n      }\r\n\r\n      if (this.isGenerate === true && this.parts.length < this.numPart) {\r\n        let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\r\n        let startX = this.parts[this.parts.length - 1].endX;\r\n        let startY = this.parts[this.parts.length - 1].endY;\r\n        let startZ = this.parts[this.parts.length - 1].endZ;\r\n        let aryEndXYZ = this.randomDirection(p5, startX, startY, startZ);\r\n        while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\r\n          aryEndXYZ = this.randomDirection(p5, startX, startY, startZ);\r\n        }\r\n        let endX = aryEndXYZ[0];\r\n        let endY = aryEndXYZ[1];\r\n        let endZ = aryEndXYZ[2];\r\n        this.partCount++;\r\n        this.parts.push(new Part(p5, startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW));\r\n        this.isGenerate = false;\r\n      }\r\n\r\n      if (this.parts.length >= this.numPart) {\r\n        this.parts[0].direction = false;\r\n      }\r\n\r\n      if (this.parts[0].erase === true) {\r\n        this.parts.shift();\r\n      }\r\n    }\r\n    randomDirection(p5, startX, startY, startZ) {\r\n      let endX = startX;\r\n      let endY = startY;\r\n      let endZ = startZ;\r\n      let direction = p5.random([\"-x\", \"x\", \"-y\", \"y\", \"-z\", \"z\"]);\r\n      switch (direction) {\r\n        case \"-x\":\r\n          endX = startX + this.maxL * p5.random(-1, 0);\r\n          break;\r\n        case \"x\":\r\n          endX = startX + this.maxL * p5.random(0, 1);\r\n          break;\r\n        case \"-y\":\r\n          endY = startY + this.maxL * p5.random(-1, 0);\r\n          break;\r\n        case \"y\":\r\n          endY = startY + this.maxL * p5.random(0, 1);\r\n          break;\r\n        case \"-z\":\r\n          endZ = startZ + this.maxL * p5.random(-1, 0);\r\n          break;\r\n        case \"z\":\r\n          endZ = startZ + this.maxL * p5.random(0, 1);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return [endX, endY, endZ];\r\n    }\r\n  }\r\n\r\n  const setup = (p5, canvasParentRef) => {\r\n    //setup canvas & basics\r\n    let canvasSize;\r\n    if (CANVAS_WIDTH <= CANVAS_HEIGHT) {\r\n      canvasSize = CANVAS_WIDTH;\r\n    } else {\r\n      canvasSize = CANVAS_HEIGHT;\r\n    }\r\n    p5.createCanvas(canvasSize, canvasSize, p5.WEBGL).parent(canvasParentRef);\r\n    p5.noiseSeed(SEED !== null ? SEED : p5.floor(p5.random(1, 10000)));\r\n    p5.randomSeed(SEED !== null ? SEED : p5.floor(p5.random(1, 10000)));\r\n    // p5.setAttributes(\"premultipliedAlpha\", true);\r\n    p5.frameRate(30);\r\n    p5.noStroke();\r\n    for (let i = 0; i < 3; i++) {\r\n      _aryInitRot[i] = [p5.random(2 * p5.PI), p5.random([-1, 1])];\r\n    }\r\n    MyObject = new Parts(p5, 350);\r\n  };\r\n\r\n  const draw = (p5) => {\r\n    p5.ortho(-p5.width / 2, p5.width / 2, -p5.width / 2, p5.width / 2, 0, p5.width * 2);\r\n    p5.background(200);\r\n    p5.ambientLight(60);\r\n    let ang = _aryInitRot[1][0] + p5.frameCount / 100;\r\n    p5.directionalLight(255, 255, 255, -p5.sin(ang), 1, -p5.cos(ang));\r\n    let c = p5.height / 2 / p5.tan(p5.PI / 6);\r\n    p5.camera(c * p5.sin(ang), 0, c * p5.cos(ang), 0, 0, 0, 0, 1, 0);\r\n    p5.rotateZ(p5.PI / 4);\r\n    MyObject.update(p5);\r\n  };\r\n\r\n  const keyPressed = (p5) => {\r\n    //save the canvas when press \"s\" or space\r\n    if (p5.keyCode === 83 || p5.keyCode === 32) {\r\n      let fileName = \"SimonBuechi\" + window.location.hash;\r\n      fileName.replace(/[^a-zA-Z0-9]/g, \"\");\r\n      p5.saveCanvas(fileName, \"jpg\");\r\n    }\r\n  };\r\n\r\n  return <Sketch setup={setup} draw={draw} keyPressed={keyPressed} />;\r\n};\r\n\r\nexport default Artwork;"],"sourceRoot":""}